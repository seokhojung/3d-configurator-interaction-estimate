# Story 1.3 — E2E Setup (Playwright)

Status: Done
Epic: 1 — Template Management
Story: 3

## Dependencies
- Depends on: Story 1.2 — Test Infrastructure Setup (Status: Done)

## Story
As a QA/Developer,
I want Playwright E2E setup with browser binaries and a runnable smoke test,
so that end-to-end user flows (PDF compatibility, downloads) can be validated consistently.

## Acceptance Criteria
1. `playwright.config.ts`가 리포 루트에 존재하고, 다음을 포함한다:
   - 기본 브라우저 프로젝트(Chromium) 구성
   - trace: on-first-retry 또는 on 설정
   - reporter: list 혹은 html 등 1개 이상
2. 브라우저 설치가 완료되어 E2E 실행 준비가 된다.
   - 실행: `npx playwright install`
3. 기본 스모크 테스트 1개가 통과한다.
   - 위치: `e2e/**/*.spec.ts`
   - 예: API 목/페이지 더미 또는 최소 라우트로 PDF 다운로드 시나리오의 placeholder 검증
4. 문서 업데이트
   - `docs/qa/test-run-guide.md`에 E2E 실행/트레이스 확인 절차 추가
   - `docs/architecture/test-stack.md`에 E2E 구성과 리포터/트레이스 정책 명시
 5. 실행 커맨드가 문서화되어 있고 동작한다: `npm run e2e` 또는 `npx playwright test`

## Tasks / Subtasks
- [x] `playwright.config.ts` 생성(브라우저=chromium, trace, reporter 구성)
- [x] 브라우저 설치(`npx playwright install`) 및 실행 확인
- [x] 스모크 테스트 작성/통과(`e2e/smoke.spec.ts` 보강 또는 신규 작성)
- [x] 문서 업데이트(`docs/qa/test-run-guide.md`, `docs/architecture/test-stack.md`) 및 실행 커맨드 명시(`npm run e2e`/`npx playwright test`)
- [ ] (옵션) 멀티 브라우저 프로젝트 추가(webkit, firefox)

## Dev Notes
- CI 통합은 범위 외(후속 스토리)
- 다운로드/파일 처리 시 CI 환경 차이 고려 필요
 - 실행 명령 예시: `npm run e2e` 또는 `npx playwright test`
 - reporter 예시: `list` 또는 `html`; trace 예시: `on-first-retry`

## Testing
- E2E: 최소 1개 스모크 케이스 통과

## References
- Test Run Guide: `docs/qa/test-run-guide.md#run`
- Test Stack (E2E/Execution): `docs/architecture/test-stack.md#execution`

## File List (Planned)
playwright.config.ts
e2e/smoke.spec.ts

## QA Results
(작성 대기)

## Dev Agent Record
### Agent Model Used
### Debug Log References
2025-10-28: Added Playwright config (`playwright.config.ts`), updated `e2e/smoke.spec.ts` to executable smoke, added `@playwright/test` devDep, installed browsers via `npx playwright install`.
2025-10-28: `npm run e2e` attempted; failed due to missing system libraries on host. Suggested `npx playwright install-deps` or Playwright Docker image. Smoke test expected to pass on a machine with required OS deps.
2025-10-28: Windows 환경에서 `npm run e2e` 실행 결과 PASS (1 passed). 로컬 OS 의존성 충족 시 정상 동작 확인.
### Completion Notes List
E2E setup files and docs are ready; execution depends on OS dependencies. On compliant environments, `npm run e2e` should pass the smoke.
Baseline achieved on Windows host: E2E smoke green. 멀티 브라우저/시나리오 확장은 후속 스토리에서 진행.
### Change Log
2025-10-28: E2E setup scaffolding committed; docs updated (guide + stack).
2025-10-28: E2E smoke executed successfully on Windows host.
